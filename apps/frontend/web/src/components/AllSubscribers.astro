---
import { Breadcrumb } from '@lyra/ui';
import { useGenericDataTable } from '@lyra/ui-vue';
import type { Subscribers, Subscriber } from '@lyra/vm-core';
import { BreadcrumbItem } from '@lyra/vm-core';

const subscribers: Subscribers = {
	subscribers: [
		{
			id: '53d58c7f-a7d1-4c94-9708-c905d27b0da9',
			email: 'john.doe@test.com',
			name: 'John Doe',
			status: 'ENABLED',
		},
		{
			id: '5a5474e7-70a5-47e5-b737-ca8392ff79d0',
			email: 'jane.doe@test.com',
			name: 'Jane Doe',
			status: 'ENABLED',
		},
	],
};
const columns = [
	{
		key: 'id',
		label: 'ID',
	},
	{
		key: 'email',
		label: 'Email',
	},
	{
		key: 'name',
		label: 'Name',
	},
	{
		key: 'status',
		label: 'Status',
	},
];
const breadcrumbItems: BreadcrumbItem[] = [
	{
		label: 'Home',
		href: '/app',
	},
	{
		label: 'Audience',
		href: '/app/audience',
		icon: 'ph:users-duotone',
	},
	{
		label: 'Subscribers',
		href: '/app/audience/subscribers',
		icon: 'ph:users-three-duotone',
	},
];
const SubscriberDataTable = useGenericDataTable<Subscriber>();
---

<SubscriberDataTable columns={columns} items={subscribers.subscribers}>
	<div class="mb-1 w-full" slot="top">
		<div class="mb-4">
			<Breadcrumb items={breadcrumbItems} />
			<h1 class="text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white" slot="header">
				All subscribers
			</h1>
			<div class="block items-center justify-between sm:flex">
				<div class="mb-4 flex items-center sm:mb-0">
					<form class="sm:pr-3" action="#" method="GET">
						<label for="products-search" class="sr-only">Search</label>
						<div class="relative mt-1 w-48 sm:w-64 xl:w-96">
							<input
								type="text"
								name="email"
								id="products-search"
								class="focus:ring-primary-500 focus:border-primary-500 dark:focus:ring-primary-500 dark:focus:border-primary-500 block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400"
								placeholder="Search for subscribers"
							/>
						</div>
					</form>
				</div>

				<div class="ml-auto flex items-center space-x-2 sm:space-x-3">
					<button
						type="button"
						class="bg-primary-700 hover:bg-primary-800 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 inline-flex w-1/2 items-center justify-center rounded-lg px-3 py-2 text-center text-sm font-medium text-white focus:ring-4 sm:w-auto"
					>
						<svg
							class="-ml-1 mr-2 h-5 w-5"
							fill="none"
							stroke="currentColor"
							stroke-width="1.5"
							viewBox="0 0 24 24"
							xmlns="http://www.w3.org/2000/svg"
							aria-hidden="true"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"
							></path>
						</svg>
						Refresh
					</button>
					<a
						href="/app/settings/publication/subscribers/import"
						class="bg-primary-700 hover:bg-primary-800 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 inline-flex w-1/2 items-center justify-center rounded-lg px-3 py-2 text-center text-sm font-medium text-white focus:ring-4 sm:w-auto"
						type="button"
					>
						<svg
							class="-ml-1 mr-2 h-5 w-5"
							fill="currentColor"
							viewBox="0 0 20 20"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								fill-rule="evenodd"
								d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"
								clip-rule="evenodd"></path>
						</svg>
						Import subscribers
					</a>
				</div>
			</div>
		</div>
	</div>
	<div slot="no-data">All Subscribers: Empty Slot Example</div>
	<div slot="footer">All Subscribers: Footer Slot Example</div>
	<SubscriberDataTable />
</SubscriberDataTable>
